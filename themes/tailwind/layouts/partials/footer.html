{{ if .IsHome }}
<footer class="w-full flex flex-col" data-bg="#000">
{{ else }}
<footer class="w-full flex flex-col bg-black">
{{ end }}
  <div class="container p-12">
    <figure class="flex items-center">
      <a href="{{ site.BaseURL }}" data-sal="slide-up" data-sal-duration="1000" data-sal-delay="700">
        {{ with site.Params.logo }}
        <img src="{{ site.Params.logo_light | absURL }}" width="48" height="36" alt="{{site.Title}}" class="w-12">
        {{ end }}
      </a>
      <figcaption class="hidden">emptyarea.com</figcaption>
    </figure>
    <p class="mx-auto max-w-2xl py-48 text-gray-300 text-2xl lg:text-4xl font-extralight leading-relaxed lg:leading-relaxed z-10" data-sal="slide-up-2" data-sal-duration="1000">If you want a great-to-work-with developer to help create websites people really enjoy, <a class="underline" href="mailto:taoguangc@gmail.com?subject=Mail from Emptyarea">get in touch.</a></p>
    <small class="text-white">
      {{ .Site.Copyright }}
      <a href="{{ .Site.BaseURL }}" target="_blank" rel="noopener" class="underline">{{ .Site.Params.author }}</a>
      â€¢
    </small>
  </div>
</footer>
<a href="#" class="fixed w-12 h-12 bottom-10 right-10 text-white border border-black bg-gray-800 shadow-xl rounded-full flex justify-center items-center transform transition duration-500 hover:border-gray-200 hover:bg-white hover:text-black"
x-show="toTop"
x-transition:enter="transition ease-out duration-300"
x-transition:enter-start="opacity-0 translate-y-16 transform"
x-transition:leave="transition ease-in duration-300"
x-transition:leave-end="opacity-0 translate-y-16 transform"
>
  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
  </svg>
</a>

{{- $appJS := resources.Get "js/app.js" }}
{{- $customJS := resources.Get "js/custom.js" }}
{{- $slice := slice $appJS }}
{{- if $customJS }}
{{- $slice = $slice | append $customJS }}
{{- end }}
{{- $bundleJS := $slice | resources.Concat "js/bundle.js" | js.Build (dict "minify" true "target" "es2015") }}
{{- $bundleJS = printf "%s?v=%d" $bundleJS.RelPermalink now.Unix }}
<script src="{{ $bundleJS | safeHTML }}" defer></script>
<script>
{{/* $bundleJS.Content | safeJS */}}
{{ if .IsHome }}
const sections = [...document.getElementsByTagName("section"), document.getElementsByTagName("footer")[0]]
window.addEventListener("scroll", function () {
  const scrollFromTop = window.pageYOffset
  for (let i = 0; sections.length > i; i++) {
    const half = window.innerHeight / 2
    if (scrollFromTop < sections[i].offsetTop + half) {
      document.body.style.backgroundColor = sections[i].getAttribute("data-bg")
      break
    }
  }
})
{{ end }}
</script>